<template>
  <div class="leading-normal tracking-normal text-black bg-gradient-to-r from-slate-50 to-slate-300 ">
    <LayoutNav />

    <div data-aos="fade-up" class="pt-24">
      <div class="container px-3 mx-auto flex flex-wrap flex-col md:flex-row items-center">
        <div
          class="flex flex-col w-full justify-center items-center lg:items-start lg:w-2/5 lg:text-left lg:pl-10  text-center">
          <h1 class="text-4xl sm:text-4xl md:text-5xl font-bold leading-tight mb-8 lg:text-6xl">
            Алуминиумски <br /> огради & тенди
          </h1>
          <p class="text-lg md:text-xl leading-normal mb-4 mx-4 md:mx-0 lg:mb-8">
            Професионална изработка на алуминиумски огради и тенди по мера од различни профили
            на
            приватни и деловни
            објекти.
          </p>
          <a href="#about"
            class="flex items-center bg-white text-gray-800 font-bold rounded-full my-4 sm:my-6 py-3 mb-32 px-6 shadow-lg focus:outline-none focus:shadow-outline transform transition hover:scale-105 duration-300 ease-in-out">
            Дознај повеќе
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-5 h-5 ml-2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3" />
            </svg>
          </a>


        </div>
        <div class="w-full hidden lg:block md:w-3/5 pb-20">
          <img class="w-full mx-auto md:w-4/6 justify-center" src="../assets/imgs/hero.png" />
        </div>
      </div>

    </div>
    <div class="relative -mt-12 lg:-mt-24">
      <svg viewBox="0 0 1428 174" version="1.1" xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink">
        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g transform="translate(-2.000000, 44.000000)" fill="#FFFFFF" fill-rule="nonzero">
            <path
              d="M0,0 C90.7283404,0.927527913 147.912752,27.187927 291.910178,59.9119003 C387.908462,81.7278826 543.605069,89.334785 759,82.7326078 C469.336065,156.254352 216.336065,153.6679 0,74.9732496"
              opacity="0.100000001"></path>
            <path
              d="M100,104.708498 C277.413333,72.2345949 426.147877,52.5246657 546.203633,45.5787101 C666.259389,38.6327546 810.524845,41.7979068 979,55.0741668 C931.069965,56.122511 810.303266,74.8455141 616.699903,111.243176 C423.096539,147.640838 250.863238,145.462612 100,104.708498 Z"
              opacity="0.100000001"></path>
            <path
              d="M1046,51.6521276 C1130.83045,29.328812 1279.08318,17.607883 1439,40.1656806 L1439,120 C1271.17211,77.9435312 1140.17211,55.1609071 1046,51.6521276 Z"
              id="Path-4" opacity="0.200000003"></path>
          </g>
          <g transform="translate(-4.000000, 76.000000)" fill="#FFFFFF" fill-rule="nonzero">
            <path
              d="M0.457,34.035 C57.086,53.198 98.208,65.809 123.822,71.865 C181.454,85.495 234.295,90.29 272.033,93.459 C311.355,96.759 396.635,95.801 461.025,91.663 C486.76,90.01 518.727,86.372 556.926,80.752 C595.747,74.596 622.372,70.008 636.799,66.991 C663.913,61.324 712.501,49.503 727.605,46.128 C780.47,34.317 818.839,22.532 856.324,15.904 C922.689,4.169 955.676,2.522 1011.185,0.432 C1060.705,1.477 1097.39,3.129 1121.236,5.387 C1161.703,9.219 1208.621,17.821 1235.4,22.304 C1285.855,30.748 1354.351,47.432 1440.886,72.354 L1441.191,104.352 L1.121,104.031 L0.457,34.035 Z">
            </path>
          </g>
        </g>
      </svg>
    </div>
    <section id="about" class="bg-white border-b py-8">
      <div class="container max-w-5xl mx-auto m-8">
        <h2 data-aos="fade-up" class="w-full my-2 text-5xl font-bold leading-tight text-center text-gray-800">
          Услуги
        </h2>
        <div data-aos="fade-up" class="w-full mb-4">
          <div class="h-1 mx-auto gradient w-64 opacity-25 my-0 py-0 rounded-t"></div>
        </div>
        <div data-aos="fade-up-right" class="flex flex-wrap">
          <div class="w-5/6 sm:w-1/2 p-6">
            <h3 class="text-3xl text-gray-800 font-bold leading-none mb-6">
              Алуминиумски огради
            </h3>
            <p class="text-gray-600 mb-8 ">
              Професионална изработка на алуминиумски огради по мера од различни профили на приватни и деловни објекти.
              <br />
              <br />
              Внатрешни и надворешни огради кои ја надополнуваат сликата давајќи беспрекорен изглед на целото место.
              <br />
              <br />
              Дозволете си луксузен изглед во вашето опкружување по поволни цени.
              <br />
              <br />
              Напревете избор од многуте комбинации за вас по ваша мера.
              <br />
              <br />
              Едноставно и практично одржување на истите. Некои сјаеви се безвременски и траат бесконечно!
            </p>

          </div>
          <div class="sm:w-1/2 px-6">
            <img class="w-full" src="../assets/imgs/info-ogradi.png" alt="">
          </div>
        </div>
        <div data-aos="fade-up-left" class="flex flex-wrap flex-col-reverse sm:flex-row">
          <div class="w-full sm:w-1/2 p-6 mt-6">
            <img class="w-full" src="../assets/imgs/info-tendi.png" alt="">
          </div>
          <div class="w-full sm:w-1/2 p-6 mt-6">
            <div class="align-middle">
              <h3 class="text-3xl text-gray-800 font-bold leading-none mb-6">
                Тенди
              </h3>
              <p class="text-gray-600 mb-8">
                Изработка на тенди по мера на приватни и деловни простори на тераси/влезови.
                <br />
                <br />
                Идеално решение за заштита од сонце за престојната сезона!
                <br />
                <br />
                Декорирајте го и облагородете го просторот околу вас.
                <br />
                <br />
                Обојте го во вашата омилена боја од богатата палета на платна на бои и дезени на високо квалитетното
                акрилно платно на познатиот австриски бренд Sattler.
                <br />
                <br />
                Изненадете го сонцето, дочекајте го подготвени, направете простор за вашето уживање!
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section id="gallery" class="bg-gray-100 py-8">
      <div class="container mx-auto px-2 pt-4 pb-12 text-gray-800">
        <h2 data-aos="fade-up" class="w-full my-2 text-5xl font-bold leading-tight text-center text-gray-800">
          Галерија
        </h2>
        <div data-aos="fade-up" class="w-full mb-4">
          <div class="h-1 mx-auto gradient w-64 opacity-25 my-0 py-0 rounded-t"></div>
        </div>
        <button data-aos="fade-up" @click="toggleGallery"
          class="mx-auto flex items-center bg-gray-700 text-white font-bold rounded-full my-8 py-4 px-8 shadow-lg focus:outline-none focus:shadow-outline galleryButtonHover ">
          Отвори ја галеријата
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 ml-3">
            <path fill-rule="evenodd"
              d="M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0 0 21 18v-1.94l-2.69-2.689a1.5 1.5 0 0 0-2.12 0l-.88.879.97.97a.75.75 0 1 1-1.06 1.06l-5.16-5.159a1.5 1.5 0 0 0-2.12 0L3 16.061Zm10.125-7.81a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Z"
              clip-rule="evenodd" />
          </svg>
        </button>

        <!-- gallery preview -->
        <button @click="toggleGallery" class="galleryButtonHover" data-aos="fade-up">
          <div class="w-3/4 sm:w-2/5 mx-auto">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
              <div v-for="image in galleryPreview" :key="image">
                <img class="object-cover object-center h-full w-full rounded-l" :src="image">
              </div>
            </div>
          </div>
        </button>
      </div>
      <!-- Gallery Modal -->
      <div :class="{ 'hidden': !galleryOpen }"
        class="fixed top-0 left-0 w-full h-full bg-black bg-opacity-75 z-50 flex justify-center items-center">
        <div class="container mx-auto p-4 bg-transparent rounded-lg shadow-lg overflow-hidden">
          <button @click="closeGallery"
            class="absolute top-4  right-4 z-50 text-white bg-black p-1 rounded-full hover:bg-red-600">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
              <path fill-rule="evenodd"
                d="M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z"
                clip-rule="evenodd" />
            </svg>
          </button>

          <div v-if="loading"
            class="absolute top-1/2 left-1/2 transform flex items-center space-x-2 -translate-x-1/2 -translate-y-1/2 z-50">
            <svg class="h-20 w-20 animate-spin stroke-white" viewBox="0 0 256 256">
              <line x1="128" y1="32" x2="128" y2="64" stroke-linecap="round" stroke-linejoin="round" stroke-width="24">
              </line>
              <line x1="195.9" y1="60.1" x2="173.3" y2="82.7" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24"></line>
              <line x1="224" y1="128" x2="192" y2="128" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24">
              </line>
              <line x1="195.9" y1="195.9" x2="173.3" y2="173.3" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24"></line>
              <line x1="128" y1="224" x2="128" y2="192" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24">
              </line>
              <line x1="60.1" y1="195.9" x2="82.7" y2="173.3" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24"></line>
              <line x1="32" y1="128" x2="64" y2="128" stroke-linecap="round" stroke-linejoin="round" stroke-width="24">
              </line>
              <line x1="60.1" y1="60.1" x2="82.7" y2="82.7" stroke-linecap="round" stroke-linejoin="round"
                stroke-width="24">
              </line>
            </svg>
            <span class="text-4xl font-medium text-white">Се вчитува...</span>
          </div>

          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
            class="hidden md:block w-10 h-10 fixed top-3 left-3 z-20">
            <path fill-rule="evenodd"
              d="M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0 0 21 18v-1.94l-2.69-2.689a1.5 1.5 0 0 0-2.12 0l-.88.879.97.97a.75.75 0 1 1-1.06 1.06l-5.16-5.159a1.5 1.5 0 0 0-2.12 0L3 16.061Zm10.125-7.81a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Z"
              clip-rule="evenodd" />
          </svg>

          <!-- Navbar -->
          <nav
            class="fixed bottom-0 left-0 w-full bg-gradient-to-r from-slate-100 to-slate-300 shadow-lg z-10 md:hidden">
            <div class="container mx-auto flex justify-center py-3">
              <button @click="showAll()"
                :class="{ 'bg-gray-700 transition transform duration-200 ease-in-out scale-105 text-white': currentCategory === 'all' }"
                class="text-black mx-2 py-1 px-2 uppercase font-semibold text-sm rounded-lg">Сите</button>
              <button @click="showOgradi()"
                :class="{ 'bg-gray-700 transition transform duration-200 ease-in-out scale-105 text-white': currentCategory === 'ogradi' }"
                class="text-black mx-2 py-1 px-2 uppercase font-semibold text-sm rounded-lg">Огради</button>
              <button @click="showTendi()"
                :class="{ 'bg-gray-700 transition transform duration-200 ease-in-out scale-105 text-white': currentCategory === 'tendi' }"
                class="text-black mx-2 py-1 px-2 uppercase font-semibold text-sm rounded-lg">Тенди</button>
              <button @click="showDrugo()"
                :class="{ 'bg-gray-700 transition transform duration-200 ease-in-out scale-105 text-white': currentCategory === 'drugo' }"
                class="text-black mx-2 py-1 px-2 uppercase font-semibold text-sm rounded-lg">Желатин завеси</button>
            </div>
          </nav>
          <nav
            class="fixed hidden md:block top-0 left-0 w-full bg-gradient-to-r from-slate-100 to-slate-300 shadow-lg z-10">
            <div class="container mx-auto flex justify-center py-4">
              <button @click="showAll()"
                :class="{ 'bg-gray-700 transition transform duration-200 ease-in-out scale-105 text-white': currentCategory === 'all' }"
                class="text-black mx-4 py-1 px-3 font-bold text-xl  uppercase  hover:bg-gray-700 hover:text-white rounded-md ">Сите</button>
              <button @click="showOgradi()"
                :class="{ 'bg-gray-700 transition transform duration-200 ease-in-out scale-105 text-white': currentCategory === 'ogradi' }"
                class="text-black mx-4 py-1 px-3 font-bold text-xl uppercase  hover:bg-gray-700 hover:text-white rounded-md ">Огради</button>
              <button @click="showTendi()"
                :class="{ 'bg-gray-700 transition transform duration-200 ease-in-out scale-105 text-white': currentCategory === 'tendi' }"
                class="text-black mx-4  py-1 px-3 font-bold text-xl uppercase  hover:bg-gray-700 hover:text-white rounded-md ">Тенди</button>
              <button @click="showDrugo()"
                :class="{ 'bg-gray-700 transition transform duration-200 ease-in-out scale-105 text-white': currentCategory === 'drugo' }"
                class="text-black mx-4 py-1 px-3 font-bold text-xl uppercase  hover:bg-gray-700 hover:text-white rounded-md ">Желатин
                завеси</button>
            </div>
          </nav>


          <!-- Gallery Content -->
          <div class="overflow-y-auto max-h-screen lg:pt-20 px-4 pt-10 lg:mx-14 pb-4" ref="galleryContent">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div v-for="(image, index) in currentGallery" :key="index" class="flex items-center justify-center">
                <img :src="image" class="object-cover object-center h-full w-full rounded-lg" alt="Gallery Image">
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <svg data-aos="zoom-in-up" class="wave-top" viewBox="0 0 1439 147" version="1.1" xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g transform="translate(-1.000000, -14.000000)" fill-rule="nonzero">
          <g class="wave" fill="rgb(243 244 246)">
            <path
              d="M1440,84 C1383.555,64.3 1342.555,51.3 1317,45 C1259.5,30.824 1206.707,25.526 1169,22 C1129.711,18.326 1044.426,18.475 980,22 C954.25,23.409 922.25,26.742 884,32 C845.122,37.787 818.455,42.121 804,45 C776.833,50.41 728.136,61.77 713,65 C660.023,76.309 621.544,87.729 584,94 C517.525,105.104 484.525,106.438 429,108 C379.49,106.484 342.823,104.484 319,102 C278.571,97.783 231.737,88.736 205,84 C154.629,75.076 86.296,57.743 0,32 L0,0 L1440,0 L1440,84 Z">
            </path>
          </g>
          <g transform="translate(1.000000, 15.000000)" fill="#FFFFFF">
            <g transform="translate(719.500000, 68.500000) rotate(-180.000000) translate(-719.500000, -68.500000) ">
              <path
                d="M0,0 C90.7283404,0.927527913 147.912752,27.187927 291.910178,59.9119003 C387.908462,81.7278826 543.605069,89.334785 759,82.7326078 C469.336065,156.254352 216.336065,153.6679 0,74.9732496"
                opacity="0.100000001"></path>
              <path
                d="M100,104.708498 C277.413333,72.2345949 426.147877,52.5246657 546.203633,45.5787101 C666.259389,38.6327546 810.524845,41.7979068 979,55.0741668 C931.069965,56.122511 810.303266,74.8455141 616.699903,111.243176 C423.096539,147.640838 250.863238,145.462612 100,104.708498 Z"
                opacity="0.100000001"></path>
              <path
                d="M1046,51.6521276 C1130.83045,29.328812 1279.08318,17.607883 1439,40.1656806 L1439,120 C1271.17211,77.9435312 1140.17211,55.1609071 1046,51.6521276 Z"
                opacity="0.200000003"></path>
            </g>
          </g>
        </g>
      </g>
    </svg>
    <section id="contact" class="container mx-auto text-center pb-6 mb-12 ">
      <h2 class="w-full my-2 text-3xl sm:text-4xl md:text-5xl font-bold leading-tight pt-32 text-center text-black">
        Контакт
      </h2>
      <div data-aos="fade-up" class="w-full mb-4">
        <div class="h-1 mx-auto gradient w-64 opacity-25 my-0 py-0 rounded-t"></div>
      </div>

      <div class="flex flex-col sm:flex-row justify-center my-12 mx-auto px-4 sm:px-8">

        <div data-aos="zoom-in-up" class="flex flex-col space-y-2 lg:my-auto mb-6 sm:mr-6 sm:items-start  sm:w-auto">
          <a :href="`tel:${phoneNumber2}`" class="flex items-center rounded-xl p-4 text-black  hover:bg-white ">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
              <path fill-rule="evenodd"
                d="M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z"
                clip-rule="evenodd" />
            </svg>
            <div class="ml-4">
              <p class="text-lg font-medium">{{ phoneNumber2 }}</p>
            </div>
          </a>
          <a :href="`tel:${phoneNumber1}`" class="flex items-center rounded-xl p-4 text-black hover:bg-white">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
              <path fill-rule="evenodd"
                d="M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z"
                clip-rule="evenodd" />
            </svg>
            <div class="ml-4">
              <p class="text-lg font-medium">{{ phoneNumber1 }}</p>
            </div>
          </a>

          <a href="https://www.facebook.com/dooel.nasteski"
            class="flex items-center rounded-xl p-4 text-black hover:bg-white">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="black" viewBox="0 0 30 30">
              <path
                d="M24,4H6C4.895,4,4,4.895,4,6v18c0,1.105,0.895,2,2,2h10v-9h-3v-3h3v-1.611C16,9.339,17.486,8,20.021,8 c1.214,0,1.856,0.09,2.16,0.131V11h-1.729C19.376,11,19,11.568,19,12.718V14h3.154l-0.428,3H19v9h5c1.105,0,2-0.895,2-2V6 C26,4.895,25.104,4,24,4z">
              </path>
            </svg>
            <div class="ml-4">
              <p class="text-lg font-medium">DOOEL Nasteski Dizajn</p>
            </div>
          </a>
          <a href="https://www.instagram.com/nasteski_design/"
            class="flex items-center rounded-xl p-4 text-black  hover:bg-white ">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" viewBox="0,0,256,256">
              <g fill="black" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt"
                stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0"
                font-family="none" font-weight="none" font-size="none" text-anchor="none"
                style="mix-blend-mode: normal">
                <g transform="scale(8.53333,8.53333)">
                  <path
                    d="M9.99805,3c-3.859,0 -6.99805,3.14195 -6.99805,7.00195v10c0,3.859 3.14195,6.99805 7.00195,6.99805h10c3.859,0 6.99805,-3.14195 6.99805,-7.00195v-10c0,-3.859 -3.14195,-6.99805 -7.00195,-6.99805zM22,7c0.552,0 1,0.448 1,1c0,0.552 -0.448,1 -1,1c-0.552,0 -1,-0.448 -1,-1c0,-0.552 0.448,-1 1,-1zM15,9c3.309,0 6,2.691 6,6c0,3.309 -2.691,6 -6,6c-3.309,0 -6,-2.691 -6,-6c0,-3.309 2.691,-6 6,-6zM15,11c-2.20914,0 -4,1.79086 -4,4c0,2.20914 1.79086,4 4,4c2.20914,0 4,-1.79086 4,-4c0,-2.20914 -1.79086,-4 -4,-4z">
                  </path>
                </g>
              </g>
            </svg>
            <div class="ml-4">
              <p class="text-lg font-medium">nasteski_design</p>
            </div>
          </a>

        </div>

        <form @submit.prevent="sendEmail" data-aos="zoom-in-up" class="w-full sm:w-1/2">
          <div class="mb-3 w-full">
            <label class="block font-medium mb-2 text-black" htmlFor="contactName">Име</label>
            <input type="text" required
              class="px-4 py-2 border w-full text-black bg-slate-50 outline-none font-sans rounded-md" id="contactName"
              placeholder="Вашето име" v-model="contact.name" />
          </div>

          <div class="mb-3 w-full">
            <label class="block font-medium mb-2 text-black" htmlFor="contactEmail">Е-маил</label>
            <input type="email" class="px-4 py-2 border text-black w-full bg-slate-50 font-sans outline-none rounded-md"
              id="contactEmail" required placeholder="Вашата е-маил адреса" v-model="contact.email" />
          </div>

          <div class="mb-3 w-full">
            <label class="block font-medium mb-2 text-black" htmlFor="contactMessage">Порака</label>
            <textarea placeholder="Пишете ни порака"
              class="px-4 py-2 text-black border rounded-md w-full outline-none font-sans" id="contactMessage"
              v-model="contact.message"></textarea>
          </div>

          <button type="submit"
            class="flex justify-between transition duration-300 ease-in-out hover:scale-105 items-center w-full rounded-xl bg-gray-800 px-6 py-3 font-medium uppercase leading-normal text-white hover:shadow-md hover:bg-gradient-to-r from-slate-50 to-slate-300 hover:text-black ">
            Испрати
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6 ml-4 -rotate-45 pb-0.5">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5" />
            </svg>
          </button>
        </form>
      </div>
    </section>

    <LayoutFooter />
  </div>
</template>

<script lang="ts">
import { defineComponent } from 'vue';

declare const require: {
  context: (path: string, recursive: boolean, regExp: RegExp) => any;
};

export default defineComponent({
  name: "IndexPage",
  data() {
    return {
      galleryOpen: false,
      loading: false,
      currentCategory: '',
      galleryImages: [] as string[],
      galleryPreview: [] as string[],
      galleryOgradi: [] as string[],
      galleryTendi: [] as string[],
      galleryDrugo: [] as string[],
      currentGallery: [] as string[],
      displayAll: true,
      displayOgradi: false,
      displayTendi: false,
      displayDrugo: false,
      phoneNumber1: '070 356 796',
      phoneNumber2: '070 729 390',
      contact: {
        name: '',
        email: '',
        message: '',
      }
    }
  },
  created() {
    this.importImages();
  },
  methods: {
    sendEmail() {
      const { name, email, message } = this.contact;

      const subject = encodeURIComponent('New message from contact form');
      const body = encodeURIComponent(`Име: ${name}\nЕ-маил: ${email}\nПорака: ${message}`);

      const mailtoLink = `mailto:nasteskidavid4@gmail.com?subject=${subject}&body=${body}`;

      window.location.href = mailtoLink;
    },
    closeGallery() {
      this.galleryOpen = false;
    },
    toggleGallery() {
      this.galleryOpen = !this.galleryOpen;
      if (this.galleryOpen) {
        this.loading = true; // Show loading indicator when gallery is opened
        this.showAll(); // Show "All" gallery when the gallery is opened
        setTimeout(() => {
          this.loading = false; // Hide loading indicator after a delay
        }, 1000); // Adjust the delay as needed
      }
      if (this.galleryOpen) {
        this.showAll();
      }
    },

    showAll() {
      this.currentGallery = this.galleryImages;
      this.currentCategory = 'all';
      this.scrollToTop();
    },
    showOgradi() {
      this.currentGallery = this.galleryOgradi;
      this.currentCategory = 'ogradi';
      this.scrollToTop();
    },
    showTendi() {
      this.currentGallery = this.galleryTendi;
      this.currentCategory = 'tendi';
      this.scrollToTop();
    },
    showDrugo() {
      this.currentGallery = this.galleryDrugo;
      this.currentCategory = 'drugo';
      this.scrollToTop();
    },
    scrollToTop() {
      const galleryContent = this.$refs.galleryContent as HTMLElement;
      if (galleryContent) {
        galleryContent.scrollTop = 0;
      }
    },
    importImages() {
      const imagesContext = require.context('../assets/imgs/gallery', true, /\.(png|jpe?g|svg)$/);
      this.galleryImages = this.sortImages(imagesContext);
      const imagesOgradi = require.context('../assets/imgs/gallery/ogradi', false, /\.(png|jpe?g|svg)$/);
      this.galleryOgradi = this.sortImages(imagesOgradi);
      const imagesTendi = require.context('../assets/imgs/gallery/tendi', false, /\.(png|jpe?g|svg)$/);
      this.galleryTendi = this.sortImages(imagesTendi);
      const imagesDrugo = require.context('../assets/imgs/gallery/drugo', false, /\.(png|jpe?g|svg)$/);
      this.galleryDrugo = this.sortImages(imagesDrugo);
      const imagesPreview = require.context('../assets/imgs/gallery/preview', false, /\.(png|jpe?g|svg)$/);
      this.galleryPreview = imagesPreview.keys().map((key: string) => imagesPreview(key));
    },
    sortImages(imagesContext: any) {
      const allImages: string[] = imagesContext.keys().map((key: string) => imagesContext(key));
      allImages.sort((a: string, b: string) => {
        const dateA: Date | null = new Date(a.match(/\d{4}-\d{2}-\d{2}/)?.[0] || '');
        const dateB: Date | null = new Date(b.match(/\d{4}-\d{2}-\d{2}/)?.[0] || '');
        if (dateA && dateB) {
          return dateB.getTime() - dateA.getTime();
        }
        return 0;
      })
      return allImages
    }

  }

});
</script>



<script lang="ts" setup>
import { onMounted } from 'vue'
import { initFlowbite } from 'flowbite'

// initialize components based on data attribute selectors
onMounted(() => {
  initFlowbite();
})
</script>

<style scoped>
.galleryButtonHover {
  transition: transform 0.3s ease-in-out;

  &:hover {
    transition: transform 0.3s ease-in-out;
    transform: scale(1.05);
  }
}
</style>